---
title: "ã€æœ€é©åŒ–ã‚·ãƒªãƒ¼ã‚º NO.1ã€‘Pythonã«ã‚ˆã‚‹ç·šå½¢è¨ˆç”»æ³•ã®æœ€é©åŒ–"
emoji: "ðŸ¤–"
type: "tech"
topics: []
published: false
---

* [1.æœ€é©åŒ–ã™ã‚‹ã‚‚ã®](#1æœ€é©åŒ–ã™ã‚‹ã‚‚ã®)
* [2.Pythonã‚’ä½¿ã‚ãšã«æ•°å­¦ã§è§£ãã€‚](#2Pythonã‚’ä½¿ã‚ãšã«æ•°å­¦ã§è§£ã)
* [3.Pythonï¼ˆpulpï¼‰ã‚’ä½¿ã£ã¦è§£ã](#3Pythonpulpã‚’ä½¿ã£ã¦è§£ã)  
   * [ãƒ—ãƒ­ã‚°ãƒ©ãƒ ](#ãƒ—ãƒ­ã‚°ãƒ©ãƒ )  
   * [è§£èª¬](#è§£èª¬)  
         * [STEP1\. æ•°ç†ãƒ¢ãƒ‡ãƒ«ã®ä½œæˆ](#STEP1-æ•°ç†ãƒ¢ãƒ‡ãƒ«ã®ä½œæˆ)  
         * [STEP2\. å¤‰æ•°ã®ä½œæˆ](#STEP2-å¤‰æ•°ã®ä½œæˆ)  
         * [STEP3\. ç›®çš„é–¢æ•°ã®ä½œæˆ](#STEP3-ç›®çš„é–¢æ•°ã®ä½œæˆ)  
         * [STEP4\. åˆ¶ç´„æ¡ä»¶ã®ä½œæˆ](#STEP4-åˆ¶ç´„æ¡ä»¶ã®ä½œæˆ)  
         * [STEP5\. æœ€é©åŒ–ã®å®Ÿè¡Œ](#STEP5-æœ€é©åŒ–ã®å®Ÿè¡Œ)
* [4.Pythonï¼ˆcvxpyï¼‰ã‚’ä½¿ã£ã¦è§£ã](#4Pythoncvxpyã‚’ä½¿ã£ã¦è§£ã)  
   * [ãƒ—ãƒ­ã‚°ãƒ©ãƒ ](#ãƒ—ãƒ­ã‚°ãƒ©ãƒ -1)  
   * [è§£èª¬](#è§£èª¬-1)  
         * [STEP1\. å¤‰æ•°ã®ä½œæˆ](#STEP1-å¤‰æ•°ã®ä½œæˆ)  
         * [STEP2\. ç›®çš„é–¢æ•°ã®è¨­å®š](#STEP2-ç›®çš„é–¢æ•°ã®è¨­å®š)  
         * [STEP3\. åˆ¶ç´„æ¡ä»¶ã®ä½œæˆ](#STEP3-åˆ¶ç´„æ¡ä»¶ã®ä½œæˆ)  
         * [STEP4\. æœ€é©åŒ–ã®å®Ÿè¡Œ](#STEP4-æœ€é©åŒ–ã®å®Ÿè¡Œ)
* [å‚è€ƒæ–‡çŒ®](#å‚è€ƒæ–‡çŒ®)

### 1.æœ€é©åŒ–ã™ã‚‹ã‚‚ã®

Pythonã‚’ä½¿ã£ã¦æ¬¡ã®ã‚ˆã†ãªå•é¡Œã‚’è§£ã„ã¦ã¿ã¾ã™ã€‚

å•é¡Œï¼š  
![xâ‰¥0,yâ‰¥0 , x+yâ‰¤3,x+2yâ‰¤4](https://chart.apis.google.com/chart?cht=tx&chl=x%E2%89%A50%2Cy%E2%89%A50%20%2C%20x%2By%E2%89%A43%2Cx%2B2y%E2%89%A44) ã§è¡¨ã•ã‚Œã‚‹é ˜åŸŸå†…ã§é–¢æ•° ![f(x,y)=4x+5y](https://chart.apis.google.com/chart?cht=tx&chl=f%28x%2Cy%29%3D4x%2B5y) ã‚’æœ€å¤§ã«ã™ã‚‹ç‚¹ã¨ãã®æœ€å¤§å€¤ã‚’æ±‚ã‚ã‚ˆã€‚  
  
  
### 2.Pythonã‚’ä½¿ã‚ãšã«æ•°å­¦ã§è§£ãã€‚

![xâ‰¥0,yâ‰¥0 , x+yâ‰¤3,x+2yâ‰¤4](https://chart.apis.google.com/chart?cht=tx&chl=x%E2%89%A50%2Cy%E2%89%A50%20%2C%20x%2By%E2%89%A43%2Cx%2B2y%E2%89%A44) ã§è¡¨ã•ã‚Œã‚‹é ˜åŸŸã¯ã€æ–œç·šéƒ¨åˆ†ï¼ˆå¢ƒç•Œç·šã‚’å«ã‚€ï¼‰ã®ã‚ˆã†ã«ãªã‚‹ã€‚  
![f:id:pythonjacascript:20180826124655p:plain:h350](/images/ppythonjacascript2018082620180826124655.png "f:id:pythonjacascript:20180826124655p:plain:h350")

![4x+5y = k](https://chart.apis.google.com/chart?cht=tx&chl=4x%2B5y%20%3D%20k)ã¨ã™ã‚‹ã¨ã€![y = -\dfrac{4}{5} x + \dfrac{1}{5} k](https://chart.apis.google.com/chart?cht=tx&chl=y%20%3D%20-%5Cdfrac%7B4%7D%7B5%7D%20x%20%2B%20%5Cdfrac%7B1%7D%7B5%7D%20k)ã¨ãªã‚Šã€ã“ã‚Œã¯ã€å‚¾ãï¼Œå‚¾ã![ -\dfrac{4}{5} ](https://chart.apis.google.com/chart?cht=tx&chl=%20-%5Cdfrac%7B4%7D%7B5%7D%20)ã§![y](https://chart.apis.google.com/chart?cht=tx&chl=y)åˆ‡ç‰‡ãŒ ![\dfrac{1}{5}k](https://chart.apis.google.com/chart?cht=tx&chl=%5Cdfrac%7B1%7D%7B5%7Dk) ã®ç›´ç·šã§ã‚ã‚‹ã€‚ã‚ˆã£ã¦ã€ã“ã®ç›´ç·šãŒ![(2, 1)](https://chart.apis.google.com/chart?cht=tx&chl=%282%2C%201%29)ã‚’é€šã‚‹ã¨ãã«ã€![f(x, y)](https://chart.apis.google.com/chart?cht=tx&chl=f%28x%2C%20y%29)ã¯æœ€å¤§ã«ãªã‚‹ã€‚  
![f:id:pythonjacascript:20180826125521p:plain:h350](/images/ppythonjacascript2018082620180826125521.png "f:id:pythonjacascript:20180826125521p:plain:h350")

ãã®æ™‚ã®![k](https://chart.apis.google.com/chart?cht=tx&chl=k)ã®å€¤ã¯ã€![2 = -\dfrac{4}{5}  + \dfrac{1}{5} k](https://chart.apis.google.com/chart?cht=tx&chl=2%20%3D%20-%5Cdfrac%7B4%7D%7B5%7D%20%20%2B%20%5Cdfrac%7B1%7D%7B5%7D%20k)ã‚’è§£ã„ã¦![k = 13](https://chart.apis.google.com/chart?cht=tx&chl=k%20%3D%2013)ã¨ãªã‚Šã€  
ç‚¹![(2, 1)](https://chart.apis.google.com/chart?cht=tx&chl=%282%2C%201%29)ã«ãŠã„ã¦æœ€å¤§å€¤ã¯13ã‚’ã¨ã‚‹ã€‚
  
  
ã¨ã„ã†è§£ãæ–¹ã§ã™ã€‚é«˜æ ¡æ•°å­¦ã§ãã‚ã—ãç¿’ã„ã¾ã™ã€‚  
  
  
### 3.Pythonï¼ˆpulpï¼‰ã‚’ä½¿ã£ã¦è§£ã

æ•°ç†æœ€é©åŒ–ç”¨ã®ã€ŒPuLPã€ã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¦‹ã¤ã‘ãŸã®ã§ã€ä½¿ã£ã¦ã¿ã¾ã™ã€‚

#### ãƒ—ãƒ­ã‚°ãƒ©ãƒ 

from pulp import *

m = LpProblem(sense=LpMaximize) #1. æ•°ç†ãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆï¼ˆæœ€å¤§åŒ–ï¼‰

x = LpVariable('x') # 2.å¤‰æ•°ã®ä½œæˆ
y = LpVariable('y') 

m += 4 * x + 5 * y  # 3.ç›®çš„é–¢æ•°ã®è¨­å®š

m += x >= 0      #4.å¤‰æ•°ã®åˆ¶ç´„æ¡ä»¶ã®ä½œæˆ
m += y >=0
m += x + y <= 3
m += x + 2*y <= 4

m.solve()   #æœ€é©åŒ–ã‚’å®Ÿè¡Œ
Max_x = value(x)
Max_y = value(y)
MaxValue = 4 * value(x) + 5 * value(y)

print("x = " + str(Max_x))
print("y = " + str(Max_y))
print("ã®ã¨ãã€æœ€å¤§å€¤" + str(MaxValue))

  
å®Ÿè¡Œçµæžœï¼š

x = 2.0
y = 1.0
ã®ã¨ãã€æœ€å¤§å€¤13.0

#### è§£èª¬

ä¸Šè¨˜ã®å•é¡Œã¯ã€ç›®çš„é–¢æ•° ![f(x,y)=4x+5y](https://chart.apis.google.com/chart?cht=tx&chl=f%28x%2Cy%29%3D4x%2B5y)ã‚’æœ€å¤§åŒ–ã™ã‚‹![x, y](https://chart.apis.google.com/chart?cht=tx&chl=x%2C%20y)ã®å€¤ã‚’ã€åˆ¶ç´„æ¡ä»¶ã‚’æº€ãŸã—ãªãŒã‚‰æ±‚ã‚ã‚‹ã€ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚ãªã®ã§ã€æœ€é©åŒ–ã‚’è¡Œã†ãŸã‚ã«ã¯ã€

| ç›®çš„é–¢æ•° | ![f(x,y)=4x+5y](https://chart.apis.google.com/chart?cht=tx&chl=f%28x%2Cy%29%3D4x%2B5y)                                                         |
| ---- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| å¤‰æ•°   | ![x](https://chart.apis.google.com/chart?cht=tx&chl=x)ã¨![y](https://chart.apis.google.com/chart?cht=tx&chl=y)                                  |
| åˆ¶ç´„æ¡ä»¶ | ![xâ‰¥0,yâ‰¥0 , x+yâ‰¤3,x+2yâ‰¤4](https://chart.apis.google.com/chart?cht=tx&chl=x%E2%89%A50%2Cy%E2%89%A50%20%2C%20x%2By%E2%89%A43%2Cx%2B2y%E2%89%A44) |

ã®ï¼“ã¤ã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¨ã—ã¦è¨˜è¿°ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚  
ã§ã¯ã€å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚  
  
##### STEP1\. æ•°ç†ãƒ¢ãƒ‡ãƒ«ã®ä½œæˆ

m = LpProblem(sense=LpMaximize) #1. æ•°ç†ãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆï¼ˆæœ€å¤§åŒ–ï¼‰

ç›®çš„é–¢æ•°ã‚’æœ€å¤§åŒ–ã™ã‚‹ãŸã‚ã®æ•°ç†ãƒ¢ãƒ‡ãƒ«ã‚’ä½œè£½ã—ã¾ã™ã€‚

ç›®çš„é–¢æ•°ã‚’æœ€å°åŒ–ã—ãŸã„æ™‚ã¯ã“ã®ã‚ˆã†ã«æ›¸ãã¾ã™ã€‚

m = LpProblem() #1. æ•°ç†ãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆï¼ˆæœ€å°åŒ–ï¼‰

##### STEP2\. å¤‰æ•°ã®ä½œæˆ

x = LpVariable('x') # 2.å¤‰æ•°ã®ä½œæˆ
y = LpVariable('y') 

LpVariable ã§å¤‰æ•°ã‚’ä½œæˆã—ã¾ã™ã€‚

å…ƒã®æ§‹æ–‡ã¯ã“ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

LpVariable(name, lowBound=None, upBound=None, cat='Continuous', e=None)

| name     | å¤‰æ•°å                  |  |
| -------- | -------------------- |  |
| lowbound | å¤‰æ•°ã®æœ€å°å€¤ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯-inf    |  |
| upBound  | å¤‰æ•°ã®æœ€å¤§å€¤ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ +inf   |  |
| cat      | å¤‰æ•°ã®ç¨®é¡žï¼ˆæ•´æ•°ã€å°æ•°ï¼ˆâ†ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ç­‰ |  |

ä½¿ã„æ–¹ã®ä¾‹

LpVariable('y', lowbound = 0)  #æ­£ã®æ•°
LpVariable('y', lowerbound = 0, upbound = 100, cat = 'Integer')  #0~100ã®æ•´æ•°

##### STEP3\. ç›®çš„é–¢æ•°ã®ä½œæˆ

ç›®çš„é–¢æ•°ã‚’è¨­å®šã™ã‚‹ã«ã¯ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãã¾ã™ã€‚

m += 4 * x + 5 * y  # 3.ç›®çš„é–¢æ•°ã®è¨­å®š

##### STEP4\. åˆ¶ç´„æ¡ä»¶ã®ä½œæˆ

åˆ¶ç´„æ¡ä»¶ã‚’è¨­å®šã™ã‚‹ã«ã¯ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãã¾ã™ã€‚  
ä»Šå›žã¯4ã¤ã®æ¡ä»¶ãŒã‚ã‚‹ã®ã§ã€ãã‚Œã‚‰ã‚’é †ç•ªã«è¨˜è¿°ã—ã¦ã„ãã¾ã™ã€‚

m += x >= 0      #4.å¤‰æ•°ã®åˆ¶ç´„æ¡ä»¶ã®ä½œæˆ
m += y >=0
m += x + y <= 3
m += x + 2*y <= 4

##### STEP5\. æœ€é©åŒ–ã®å®Ÿè¡Œ

solve()ã§æœ€é©åŒ–ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

m.solve()   #æœ€é©åŒ–ã‚’å®Ÿè¡Œ

### 4.Pythonï¼ˆcvxpyï¼‰ã‚’ä½¿ã£ã¦è§£ã

cvxpyã¯ã€Anacondaã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚

#### ãƒ—ãƒ­ã‚°ãƒ©ãƒ 

x = cvxpy.Variable()
y = cvxpy.Variable()

objective = cvxpy.Maximize(4 * x + 5 * y)

constraints = [0 <= x]
constraints += [0 <= y]
constraints += [x + y <= 3]
constraints += [x + 2*y <= 4]
prob = cvxpy.Problem(objective, constraints)

result = prob.solve()

print("x = ", x.value)
print("y = ", y.value)
print("ã®ã¨ãã€æœ€å¤§å€¤ = ", prob.value)

  
å®Ÿè¡Œçµæžœï¼š

x =  2.000000025730404
y =  0.9999999678267295
ã®ã¨ãã€æœ€å¤§å€¤ =  12.999999942055263

#### è§£èª¬

##### STEP1\. å¤‰æ•°ã®ä½œæˆ

å¤‰æ•°ã‚’ä½œæˆã—ã¾ã™ã€‚

x = cvxpy.Variable()
y = cvxpy.Variable()

##### STEP2\. ç›®çš„é–¢æ•°ã®è¨­å®š

ç›®çš„é–¢æ•°ã‚’æœ€å¤§åŒ–ã™ã‚‹ãŸã‚ã®æ•°ç†ãƒ¢ãƒ‡ãƒ«ã‚’ä½œè£½ã—ã¾ã™ã€‚

objective = cvxpy.Maximize(4 * x + 5 * y)

##### STEP3\. åˆ¶ç´„æ¡ä»¶ã®ä½œæˆ

åˆ¶ç´„æ¡ä»¶ã‚’è¨­å®šã™ã‚‹ã«ã¯ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãã¾ã™ã€‚  
ä»Šå›žã¯4ã¤ã®æ¡ä»¶ãŒã‚ã‚‹ã®ã§ã€ãã‚Œã‚‰ã‚’é †ç•ªã«è¨˜è¿°ã—ã¦ã„ãã¾ã™ã€‚

constraints = [0 <= x]
constraints += [0 <= y]
constraints += [x + y <= 3]
constraints += [x + 2*y <= 4]

##### STEP4\. æœ€é©åŒ–ã®å®Ÿè¡Œ

solve()ã§æœ€é©åŒ–ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

result = prob.solve()

### å‚è€ƒæ–‡çŒ®

[é ˜åŸŸã«ãŠã‘ã‚‹æœ€å¤§ãƒ»æœ€å°å•é¡Œï¼ˆç·šå½¢è¨ˆç”»æ³•ï¼‰ | é«˜æ ¡æ•°å­¦ã®ç¾Žã—ã„ç‰©èªž](https://mathtrain.jp/linearprogramming)  
[pulp: Pulp classes â€” PuLP v1.4.6 documentation](https://www.coin-or.org/PuLP/pulp.html)  
[PuLPã‚’ä½¿ã£ã¦ç·šå½¢è¨ˆç”»å•é¡Œã‚’è§£ã - DISTRICT 37](http://dragstar.hatenablog.com/entry/2015/03/23/114335)  
[Pythonè£½å‡¸æœ€é©åŒ–ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ãƒ„ãƒ¼ãƒ«CVXPYã®ä½¿ã„æ–¹ - MyEnigma](https://myenigma.hatenablog.com/entry/2016/11/06/114603)